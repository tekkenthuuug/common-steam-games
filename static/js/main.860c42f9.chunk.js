(this["webpackJsonpcommon-steam-games"]=this["webpackJsonpcommon-steam-games"]||[]).push([[0],[,,,,,,,,,,function(e,t,o){e.exports=o.p+"static/media/close.88ca3965.svg"},function(e,t){e.exports="data:image/jpeg;base64,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"},,,function(e,t,o){e.exports=o(24)},,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),A=o(6),r=o.n(A),i=(o(19),o(5)),s=(o(20),o(2)),f=o(1),c=o(7),u=o(8),K=o(12),l=o(9),m=o(3),v=o(13),d=(o(21),o(22),o(23),o(10)),g=o.n(d),h=o(11),C=o.n(h);function F(e){var t=e.removeInput,o=e.getUserIfValid,a=e.id,A=e.user,r=A.name?n.a.createElement("a",{href:A.profileurl,target:"_blank",rel:"noopener noreferrer"},A.name):"Unknown";return n.a.createElement("div",{className:"section-container"},n.a.createElement("div",{className:"flex-centered input"},n.a.createElement("input",{type:"text",className:"input-url",placeholder:"Steam URL",onChange:o,id:a,autoComplete:"off"}),n.a.createElement("div",{className:"close-box",onClick:t},n.a.createElement("img",{src:g.a,alt:"close button"}))),n.a.createElement("div",{className:"flex-centered profile"},n.a.createElement("img",{src:A.avatar||C.a,alt:"User profile",width:"120px",height:"120px"}),n.a.createElement("div",{className:"info"},A.steamid?n.a.createElement("div",null,n.a.createElement("h2",null,r),n.a.createElement("p",null,"SteamID: ",A.steamid)):n.a.createElement("h2",null,r))))}function b(e){var t=e.removeInput,o=e.getUserIfValid,a=e.users;return n.a.createElement("div",{className:"inputs"},a.map((function(e,a){return n.a.createElement(F,{key:a,id:a,removeInput:t,getUserIfValid:o,user:e})})))}var p={steamid:"",name:"",profileurl:"",avatar:"",request:void 0},j={users:[Object.assign({},p),Object.assign({},p)]},E=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(K.a)(this,Object(l.a)(t).call(this))).addInput=function(){if(o.state.users.length<5){var e=Object(f.a)(o.state.users);e.push(Object(s.a)({},p)),o.setState({users:e})}},o.removeInput=function(){if(o.state.users.length>2){var e=Object(f.a)(o.state.users);e.pop(),o.setState({users:e})}},o.fetchUserInfo=function(e,t){fetch("https://common-games-api.herokuapp.com/getSteamInfo",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({profileURL:e})}).then((function(e){return e.json()})).then((function(e){var a=Object(f.a)(o.state.users);if(e.steamid){var n=e.steamid,A=e.name,r=e.profileurl,i=e.avatar;a[t]={steamid:n,name:A,profileurl:r,avatar:i}}else a[t]=Object(s.a)({},p),a[t].name="Not Found";o.setState({users:a})}))},o.deleteLastSlash=function(e){return"/"===e[e.length-1]?e.slice(0,e.length-1):e},o.isInputValid=function(e){var t=o.deleteLastSlash(e).split("/");return t.length-t.indexOf("id")===2},o.getUserIfValid=function(e){var t=Object(m.a)(o),a=t.fetchUserInfo,n=t.isInputValid,A=e.target,r=Object(f.a)(o.state.users);n(A.value)?""===A.value?r[A.id]=Object(s.a)({},p):(clearTimeout(o.state.users[A.id].request),r[A.id].request=setTimeout((function(){a(A.value,A.id)}),1e3)):(r[A.id]=Object(s.a)({},p),r[A.id].name="Not valid input"),o.setState({users:r})},o.findCommonObjectsByName=function(e){var t=[];e.forEach((function(e){t=t.concat(e)})),t=t.map((function(e){return e.name}));var o=Array.from(new Set(t)).filter((function(e){return t.indexOf(e)!==t.lastIndexOf(e)}));return e[0].filter((function(e){return o.includes(e.name)}))},o.fetchGames=function(){var e=[];o.state.users.forEach((function(t){var o=t.steamid;o&&e.push(o)})),fetch("https://common-games-api.herokuapp.com/getUserGames",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({steamids:e})}).then((function(e){return e.json()})).then((function(e){o.props.setCommonGames(o.findCommonObjectsByName(e))}))},o.state=j,o}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.addInput,t=this.removeInput,o=this.getUserIfValid,a=this.fetchGames,A=this.state.users;return n.a.createElement("div",{className:"form-box"},n.a.createElement(b,{removeInput:t,getUserIfValid:o,users:A}),n.a.createElement("div",{className:"button-container"},5===A.length?"":n.a.createElement("button",{className:"add-button",onClick:e},n.a.createElement("span",null,"+")),n.a.createElement("button",{className:"fetch-button",onClick:a},"Fetch games")))}}]),t}(a.Component),Q=Object(a.lazy)((function(){return o.e(3).then(o.bind(null,28))}));var U=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),o=t[0],A=t[1];return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"container"},n.a.createElement("header",null,n.a.createElement("h1",null,"Find common games for your party")),n.a.createElement(a.Suspense,{fallback:n.a.createElement("div",null,"Loading...")},o.length?n.a.createElement(Q,{commonGames:o,setCommonGames:A}):n.a.createElement(E,{setCommonGames:A}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[14,1,2]]]);
//# sourceMappingURL=main.860c42f9.chunk.js.map