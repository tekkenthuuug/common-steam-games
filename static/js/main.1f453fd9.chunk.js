(this["webpackJsonpcommon-steam-games"]=this["webpackJsonpcommon-steam-games"]||[]).push([[0],[,,,,,,,,,,function(e,t,o){e.exports=o.p+"static/media/close.88ca3965.svg"},function(e,t){e.exports="data:image/jpeg;base64,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"},,,function(e,t,o){e.exports=o(24)},,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),i=o(6),A=o.n(i),r=(o(19),o(5)),s=(o(20),o(2)),c=o(1),f=o(7),l=o(8),u=o(12),K=o(9),m=o(3),d=o(13),v=(o(21),o(22),o(23),o(10)),g=o.n(v),h=o(11),C=o.n(h);function p(e){var t=e.removeInput,o=e.getUserIfValid,n=e.id,i=e.user,A=i.name?a.a.createElement("a",{href:i.profileurl,target:"_blank",rel:"noopener noreferrer"},i.name):"Unknown";return a.a.createElement("div",{className:"section-container"},a.a.createElement("div",{className:"flex-centered input"},a.a.createElement("input",{"aria-label":"Steam URL input",type:"text",className:"input-url",placeholder:"Steam URL",onChange:o,id:n,autoComplete:"off"}),a.a.createElement("div",{className:"close-box",onClick:t},a.a.createElement("img",{src:g.a,alt:"close button"}))),a.a.createElement("div",{className:"flex-centered profile"},a.a.createElement("img",{src:i.avatar||C.a,alt:"User profile",width:"120px",height:"120px"}),a.a.createElement("div",{className:"info"},i.steamid?a.a.createElement("div",null,a.a.createElement("h2",null,A),a.a.createElement("p",null,"SteamID: ",i.steamid)):a.a.createElement("h2",null,A))))}function F(e){var t=e.removeInput,o=e.getUserIfValid,n=e.users;return a.a.createElement("div",{className:"inputs"},n.map((function(e,n){return a.a.createElement(p,{key:n,id:n,removeInput:t,getUserIfValid:o,user:e})})))}var b={steamid:"",name:"",profileurl:"",avatar:"",request:void 0},w={users:[Object.assign({},b),Object.assign({},b)]},j=function(e){function t(e){var o;return Object(f.a)(this,t),(o=Object(u.a)(this,Object(K.a)(t).call(this))).addInput=function(){if(o.state.users.length<5){var e=Object(c.a)(o.state.users);e.push(Object(s.a)({},b)),o.setState({users:e})}},o.removeInput=function(){if(o.state.users.length>2){var e=Object(c.a)(o.state.users);e.pop(),o.setState({users:e})}},o.fetchUserInfo=function(e,t){fetch("https://common-games-api.herokuapp.com/getSteamInfo",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({profileURL:e})}).then((function(e){return e.json()})).then((function(e){var n=Object(c.a)(o.state.users);if(e.steamid){var a=e.steamid,i=e.name,A=e.profileurl,r=e.avatar;n[t]={steamid:a,name:i,profileurl:A,avatar:r}}else n[t]=Object(s.a)({},b),n[t].name="Not Found";o.setState({users:n})}))},o.deleteLastSlash=function(e){return"/"===e[e.length-1]?e.slice(0,e.length-1):e},o.isInputValid=function(e){var t=o.deleteLastSlash(e).split("/");return t.length-t.indexOf("id")===2},o.getUserIfValid=function(e){var t=Object(m.a)(o),n=t.fetchUserInfo,a=t.isInputValid,i=e.target,A=Object(c.a)(o.state.users);a(i.value)?""===i.value?A[i.id]=Object(s.a)({},b):(clearTimeout(o.state.users[i.id].request),A[i.id].request=setTimeout((function(){n(i.value,i.id)}),1e3)):(A[i.id]=Object(s.a)({},b),A[i.id].name="Not valid input"),o.setState({users:A})},o.findCommonObjectsByName=function(e){var t=[];e.forEach((function(e){t=t.concat(e)})),t=t.map((function(e){return e.name}));var o=Array.from(new Set(t)).filter((function(e){return t.indexOf(e)!==t.lastIndexOf(e)}));return e[0].filter((function(e){return o.includes(e.name)}))},o.fetchGames=function(){var e=[];o.state.users.forEach((function(t){var o=t.steamid;o&&e.push(o)})),fetch("https://common-games-api.herokuapp.com/getUserGames",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({steamids:e})}).then((function(e){return e.json()})).then((function(e){o.props.setCommonGames(o.findCommonObjectsByName(e))}))},o.state=w,o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.addInput,t=this.removeInput,o=this.getUserIfValid,n=this.fetchGames,i=this.state.users;return a.a.createElement("div",{className:"form-box"},a.a.createElement(F,{removeInput:t,getUserIfValid:o,users:i}),a.a.createElement("div",{className:"button-container"},5===i.length?"":a.a.createElement("button",{className:"add-button",onClick:e},a.a.createElement("span",null,"+")),a.a.createElement("button",{className:"fetch-button",onClick:n},"Fetch games")))}}]),t}(n.Component),E=Object(n.lazy)((function(){return o.e(3).then(o.bind(null,28))}));var U=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),o=t[0],i=t[1];return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"container"},a.a.createElement("header",null,a.a.createElement("h1",null,"Find common games for your party")),a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},o.length?a.a.createElement(E,{commonGames:o,setCommonGames:i}):a.a.createElement(j,{setCommonGames:i}))))},Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}A.a.render(a.a.createElement(U,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/common-steam-games",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/common-steam-games","/service-worker.js");Q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(o){var n=o.headers.get("content-type");404===o.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):B(t,e)}))}}()}],[[14,1,2]]]);
//# sourceMappingURL=main.1f453fd9.chunk.js.map